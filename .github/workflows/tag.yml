on:
    push:
        tags:
            - '**'

jobs:
    docker_jammy:
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@v5
            - uses: ./.github/actions/docker
              with:
                  distro: 'jammy'
                  push: true
                  registry_username: ${{ secrets.DOCKERHUB_USERNAME }}
                  registry_password: ${{ secrets.DOCKERHUB_TOKEN }}

    docker_noble:
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@v5
            - uses: ./.github/actions/docker
              with:
                  distro: 'noble'
                  push: true
                  registry_username: ${{ secrets.DOCKERHUB_USERNAME }}
                  registry_password: ${{ secrets.DOCKERHUB_TOKEN }}
